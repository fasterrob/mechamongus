<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Mechamongus</title>

    <!--
    - favicon
  -->
    <link
      rel="shortcut icon"
      href="./assets/images/logo/Blue-amongus-icon.png"
      type="image/x-icon"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
    <!--
    - custom css link
  -->
    <link rel="stylesheet" href="./assets/css/style-prefix.css" />
    <!-- <link rel="stylesheet" href="assets/css/toggle-dark.css"> -->

    <!--
    - google font link
  -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800;900&display=swap"
      rel="stylesheet"
    />
  </head>

  <style>
    @media (min-width: 1025px) {
      .h-custom {
        height: 100vh !important;
      }
    }

    .html {
      font-family: "Poppins", sans-serif;
    }

    .number-input input[type="number"] {
      -webkit-appearance: textfield;
      -moz-appearance: textfield;
      appearance: textfield;
    }

    .number-input input[type="number"]::-webkit-inner-spin-button,
    .number-input input[type="number"]::-webkit-outer-spin-button {
      -webkit-appearance: none;
    }

    .number-input button {
      --webkit-appearance: none;
      background-color: transparent;
      border: none;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      margin: 0;
      position: relative;
    }

    .number-input button:before,
    .number-input button:after {
      display: inline-block;
      position: absolute;
      content: "";
      height: 2px;
      transform: translate(-50%, -50%);
    }

    .number-input button.plus:after {
      transform: translate(-50%, -50%) rotate(90deg);
    }

    .number-input input[type="number"] {
      text-align: center;
    }

    .number-input.number-input {
      border: 1px solid #ced4da;
      width: 10rem;
      border-radius: 0.25rem;
    }

    .number-input.number-input button {
      width: 2.6rem;
      height: 0.7rem;
    }

    .number-input.number-input button.minus {
      padding-left: 10px;
    }

    .number-input.number-input button:before,
    .number-input.number-input button:after {
      width: 0.7rem;
      background-color: #495057;
    }

    .number-input.number-input input[type="number"] {
      max-width: 4rem;
      padding: 0.5rem;
      border: 1px solid #ced4da;
      border-width: 0 1px;
      font-size: 1rem;
      height: 2rem;
      color: #495057;
    }

    @media not all and (min-resolution: 0.001dpcm) {
      @supports (-webkit-appearance: none) and (stroke-color: transparent) {
        .number-input.def-number-input.safari_only button:before,
        .number-input.def-number-input.safari_only button:after {
          margin-top: -0.3rem;
        }
      }
    }

    .shopping-cart .def-number-input.number-input {
      border: none;
    }

    .shopping-cart .def-number-input.number-input input[type="number"] {
      max-width: 2rem;
      border: none;
    }

    .shopping-cart
      .def-number-input.number-input
      input[type="number"].black-text,
    .shopping-cart
      .def-number-input.number-input
      input.btn.btn-link[type="number"],
    .shopping-cart
      .def-number-input.number-input
      input.md-toast-close-button[type="number"]:hover,
    .shopping-cart
      .def-number-input.number-input
      input.md-toast-close-button[type="number"]:focus {
      color: #212529 !important;
    }

    .shopping-cart .def-number-input.number-input button {
      width: 1rem;
    }

    .shopping-cart .def-number-input.number-input button:before,
    .shopping-cart .def-number-input.number-input button:after {
      width: 0.5rem;
    }

    .shopping-cart .def-number-input.number-input button.minus:before,
    .shopping-cart .def-number-input.number-input button.minus:after {
      background-color: #9e9e9e;
    }

    .shopping-cart .def-number-input.number-input button.plus:before,
    .shopping-cart .def-number-input.number-input button.plus:after {
      background-color: #4285f4;
    }

    .text-primary {
      color: hsl(207, 100%, 66.3%) !important;
    }

    .btnhover {
      padding: 5px 40px 5px 40px;
      color: white;
    }

    .btnhover:hover {
      color: white;
      background-color: hsl(207, 74%, 60%) !important;
    }

    .remove {
      font-size: 15px;
      color: hsl(0, 100%, 66%);
    }

    .remove:hover {
      color: rgb(238, 0, 0);
    }

    .back-to-shopping {
      color: hsl(207, 100%, 66.3%);
    }

    .back-to-shopping:hover {
      color: hsl(207, 74%, 60%) !important;
    }
  </style>

  <body onload="getData()">
    <!-- <div class="overlay" data-overlay></div> -->

    <!--
    - HEADER
  -->

    <header>
      <!-- header main -->
      <div class="header-main">
        <div class="container">
          <a href="#" class="header-logo">
            <img
              src="assets/images/logo/Blue-amongus-icon.png"
              alt="Anon's logo"
              width="36"
              height="36"
            />
          </a>

          <div class="header-search-container">
            <input
              type="search"
              name="search"
              class="search-field"
              placeholder="Enter your product name..."
            />

            <button class="search-btn">
              <ion-icon name="search-outline"></ion-icon>
            </button>
          </div>

          <div class="header-user-actions">
            <button class="action-btn" onclick="checkLogin()">
              <ion-icon
                name="person-outline"
                style="color: aliceblue"
              ></ion-icon>
            </button>

            <button class="action-btn" onclick="checkLoginCart()">
              <ion-icon
                name="bag-handle-outline"
                style="color: aliceblue"
              ></ion-icon>

              <span class="count" id="count">0</span>
            </button>
          </div>
        </div>
      </div>

      <!-- desktop navi header bar -->
      <nav class="desktop-navigation-menu">
        <div class="container">
          <ul class="desktop-menu-category-list">
            <!-- Home -->
            <li class="menu-category">
              <a href="index.html" class="menu-title">Home</a>
            </li>

            <!-- category -->
            <!-- <li class="menu-category">
            <a class="menu-title">Category</a>

            <div class="dropdown-panel">

              gaming list
              <ul class="dropdown-panel-list">

                <li class="menu-title">
                  <a href="gaming-cate.html">Gaming</a>
                </li>

                <li class="panel-list-item">
                  <a href="#">NVidia</a>
                </li>

                <li class="panel-list-item">
                  <a href="#">AMD</a>
                </li>

                <li class="panel-list-item">
                  <a href="#">Asus</a>
                </li>

                <li class="panel-list-item">
                  <a href="#">MSI</a>
                </li>

                <li class="panel-list-item">
                  <a href="#">GIGABYTE</a>
                </li>

                <li class="panel-list-item">
                  <a href="#">ZOTAC</a>
                </li>

              </ul>

              editing list
              <ul class="dropdown-panel-list">

                <li class="menu-title">
                  <a href="editing-cate.html">Editing</a>
                </li>

                <li class="panel-list-item">
                  <a href="#">AMD</a>
                </li>

                <li class="panel-list-item">
                  <a href="#">Intel</a>
                </li>

              </ul>

              Casual list
              <ul class="dropdown-panel-list">

                <li class="menu-title">
                  <a href="casual-cate.html">Casual</a>
                </li>

                <li class="panel-list-item">
                  <a href="#">All in one</a>
                </li>

                <li class="panel-list-item">
                  <a href="#">Full set PC</a>
                </li>

                <li class="panel-list-item">
                  <a href="#">PC Only</a>
                </li>

              </ul>

              budget list
              <ul class="dropdown-panel-list">

                <li class="menu-title">
                  <a href="budget-cate.html">Budget</a>
                </li>

                <li class="panel-list-item">
                  <a href="#">ต่ำกว่า 19,990฿</a>
                </li>

                <li class="panel-list-item">
                  <a href="#">20,000฿ - 29,990฿</a>
                </li>

                <li class="panel-list-item">
                  <a href="#">30,000฿ - 39,990฿</a>
                </li>

                <li class="panel-list-item">
                  <a href="#">40,000฿ - 49,990฿</a>
                </li>

                <li class="panel-list-item">
                  <a href="#">50,000฿ - 59,990฿</a>
                </li>

                <li class="panel-list-item">
                  <a href="#">60,000฿ ขึ้นไป</a>
                </li>

              </ul>

            </div>

          </li> -->

            <!-- gaming -->
            <li class="menu-category">
              <a href="gaming-cate.html" class="menu-title">Gaming</a>
            </li>

            <!-- editing -->
            <li class="menu-category">
              <a href="editing-cate.html" class="menu-title">Editing</a>
            </li>

            <!-- casual -->

            <li class="menu-category">
              <a href="casual-cate.html" class="menu-title">Casual</a>
            </li>

            <!-- budget -->
            <li class="menu-category">
              <a href="budget-cate.html" class="menu-title">Budget</a>
            </li>

            <!-- Custom spec -->
            <li class="menu-category">
              <a href="cuztom-page.html" class="menu-title">Customize</a>
            </li>
          </ul>
        </div>
      </nav>

      <!-- resposive navi -->
      <div class="mobile-bottom-navigation">
        <button class="action-btn" data-mobile-menu-open-btn>
          <ion-icon name="menu-outline"></ion-icon>
        </button>

        <button class="action-btn">
          <a href="cart.html">
            <ion-icon name="bag-handle-outline"></ion-icon>
          </a>

          <span class="count">0</span>
        </button>

        <button class="action-btn">
          <a href="index.html">
            <ion-icon name="home-outline"></ion-icon>
          </a>
        </button>
      </div>

      <!-- mobile category -->
      <nav class="mobile-navigation-menu has-scrollbar" data-mobile-menu>
        <div class="menu-top">
          <h2 class="menu-title">Menu</h2>

          <button class="menu-close-btn" data-mobile-menu-close-btn>
            <ion-icon name="close-outline"></ion-icon>
          </button>
        </div>

        <ul class="mobile-menu-category-list">
          <!-- gaming mobile category
        <li class="menu-category">

          <button class="accordion-menu" data-accordion-btn>
            <p class="menu-title">Gaming</p>

            <div>
              <ion-icon name="add-outline" class="add-icon"></ion-icon>
              <ion-icon name="remove-outline" class="remove-icon"></ion-icon>
            </div>
          </button>

          <ul class="submenu-category-list" data-accordion>

            <li class="submenu-category">
              <a href="#" class="submenu-title">Nvidia</a>
            </li>

            <li class="submenu-category">
              <a href="#" class="submenu-title">AMD</a>
            </li>

            <li class="submenu-category">
              <a href="#" class="submenu-title">Asus</a>
            </li>

            <li class="submenu-category">
              <a href="#" class="submenu-title">MSI</a>
            </li>

            <li class="submenu-category">
              <a href="#" class="submenu-title">GIGABYTE</a>
            </li>

            <li class="submenu-category">
              <a href="#" class="submenu-title">ZOTAC</a>
            </li>

          </ul>

        </li>

        Editing mobile category
        <li class="menu-category">

          <button class="accordion-menu" data-accordion-btn>
            <p class="menu-title">Editing</p>

            <div>
              <ion-icon name="add-outline" class="add-icon"></ion-icon>
              <ion-icon name="remove-outline" class="remove-icon"></ion-icon>
            </div>
          </button>

          <ul class="submenu-category-list" data-accordion>

            <li class="submenu-category">
              <a href="#" class="submenu-title">AMD</a>
            </li>

            <li class="submenu-category">
              <a href="#" class="submenu-title">Intel</a>
            </li>

          </ul>

        </li>

        Casual mobile category
        <li class="menu-category">

          <button class="accordion-menu" data-accordion-btn>
            <p class="menu-title">Casual</p>

            <div>
              <ion-icon name="add-outline" class="add-icon"></ion-icon>
              <ion-icon name="remove-outline" class="remove-icon"></ion-icon>
            </div>
          </button>

          <ul class="submenu-category-list" data-accordion>

            <li class="submenu-category">
              <a href="#" class="submenu-title">All in one</a>
            </li>

            <li class="submenu-category">
              <a href="#" class="submenu-title">Full set PC</a>
            </li>

            <li class="submenu-category">
              <a href="#" class="submenu-title">Full set PC</a>
            </li>

          </ul>

        </li>

        budget mobile category
        <li class="menu-category">

          <button class="accordion-menu" data-accordion-btn>
            <p class="menu-title">Budget</p>

            <div>
              <ion-icon name="add-outline" class="add-icon"></ion-icon>
              <ion-icon name="remove-outline" class="remove-icon"></ion-icon>
            </div>
          </button>

          <ul class="submenu-category-list" data-accordion>

            <li class="submenu-category">
              <a href="#" class="submenu-title">ต่ำกว่า 19,990฿</a>
            </li>

            <li class="submenu-category">
              <a href="#" class="submenu-title">20,000฿ - 29,990฿</a>
            </li>

            <li class="submenu-category">
              <a href="#" class="submenu-title">30,000฿ - 39,990฿</a>
            </li>

            <li class="submenu-category">
              <a href="#" class="submenu-title">40,000฿ - 49,990฿</a>
            </li>

            <li class="submenu-category">
              <a href="#" class="submenu-title">50,000฿ - 59,990฿</a>
            </li>

            <li class="submenu-category">
              <a href="#" class="submenu-title">60,000฿ ++</a>
            </li>

          </ul>

        </li> -->

          <!-- gaming mobile category -->
          <li class="menu-category">
            <a href="gaming-cate.html" class="menu-title">Gaming</a>
          </li>

          <!-- editing mobile category -->
          <li class="menu-category">
            <a href="editing-cate.html" class="menu-title">Editing</a>
          </li>

          <!-- casual mobile category -->
          <li class="menu-category">
            <a href="casual-cate.html" class="menu-title">Casual</a>
          </li>

          <!-- budget mobile category -->
          <li class="menu-category">
            <a href="budget-cate.html" class="menu-title">Budget</a>
          </li>

          <!-- spec custom mobile category -->
          <li class="menu-category">
            <a href="cuztom-page.html" class="menu-title">Customize</a>
          </li>

          <!-- login mobile category -->
          <li class="menu-category">
            <a href="login.html" class="menu-title">Login</a>
          </li>
        </ul>

        <div class="menu-bottom">
          <!-- mobile cate social icon -->
          <ul class="menu-category-list">
            <li class="menu-category"></li>
          </ul>

          <ul class="menu-social-container">
            <li>
              <a href="#" class="social-link">
                <ion-icon name="logo-facebook"></ion-icon>
              </a>
            </li>

            <li>
              <a href="#" class="social-link">
                <ion-icon name="logo-twitter"></ion-icon>
              </a>
            </li>

            <li>
              <a href="#" class="social-link">
                <ion-icon name="logo-instagram"></ion-icon>
              </a>
            </li>
          </ul>
        </div>
      </nav>
    </header>

    <!--
    - MAIN
  -->

    <main>
      <section class="mt-3 mb-3">
        <div class="container">
          <div class="row d-flex justify-content-center align-items-center">
            <div class="col">
              <div class="card shopping-cart" style="border-radius: 15px">
                <div class="card-body text-black">
                  <div class="row">
                    <div class="col-lg-6 px-5 py-4">
                      <h3 class="mb-5 pt-2 text-center fw-bold text-uppercase">
                        Your products
                      </h3>

                      <div id="product"></div>

                      <hr
                        class="mb-4"
                        style="
                          height: 2px;
                          background-color: hsl(207, 100%, 66.3%);
                          opacity: 1;
                        "
                      />
                      <div
                        class="d-flex justify-content-between p-2 mb-2"
                        style="background-color: #e1f5fe"
                      >
                        <h5 class="fw-bold mb-0">Total:</h5>
                        <h5 class="fw-bold mb-0" id="totalPrice"></h5>
                      </div>
                    </div>
                    <div class="col-lg-6 px-5 py-4">
                      <h3 class="mb-5 pt-2 text-center fw-bold text-uppercase">
                        Payment
                      </h3>

                      <form class="mb-5">
                        <div class="form-outline mb-3">
                          <input
                            type="text"
                            id="typeName"
                            class="form-control form-control-lg"
                            siez="17"
                            value=""
                          />
                          <label class="form-label" for="typeName"
                            >Name on card</label
                          >
                        </div>

                        <div class="form-outline mb-3">
                          <input
                            type="text"
                            id="cardnumber"
                            class="form-control form-control-lg"
                            siez="17"
                            value=""
                            minlength="19"
                            maxlength="19"
                          />
                          <label class="form-label" for="cardnumber"
                            >Card Number</label
                          >
                        </div>

                        <div class="row">
                          <div class="col-md-6 mb-3">
                            <div class="form-outline">
                              <input
                                type="password"
                                id="cvv"
                                class="form-control form-control-lg"
                                value=""
                                size="1"
                                minlength="3"
                                maxlength="3"
                              />
                              <label class="form-label" for="cvv"
                                >CVV/CVC</label
                              >
                            </div>
                          </div>
                          <div class="col-md-6 mb-3">
                            <div class="form-outline">
                              <input
                                type="month"
                                id="typeExp"
                                class="form-control form-control-lg"
                                value=""
                                size="7"
                                id="exp"
                                minlength="7"
                                maxlength="7"
                              />
                              <label class="form-label" for="typeExp"
                                >Expiration</label
                              >
                            </div>
                          </div>
                        </div>
                        <div class="confirm-check">
                          <div class="col-12">
                            <div class="form-check">
                              <input
                                class="form-check-input"
                                type="checkbox"
                                value=""
                                id="check1"
                                required
                              />
                              <label
                                class="form-check-label"
                                for="invalidCheck1"
                              >
                                Agree to terms and conditions
                              </label>
                            </div>
                          </div>
                          <div class="col-12">
                            <div class="form-check">
                              <input
                                class="form-check-input"
                                type="checkbox"
                                value=""
                                id="check2"
                                required
                              />
                              <label
                                class="form-check-label mb-3"
                                for="invalidCheck2"
                              >
                                Confirm that you have inspected the product and
                                intend to order.
                              </label>
                            </div>
                          </div>
                        </div>
                        <a class="check-out d-flex justify-content-center">
                          <button
                            type="button"
                            class="btnhover btn"
                            onclick="checkOut()"
                            style="
                              background-color: hsl(207, 100%, 66.3%);
                              border-radius: 20px;
                            "
                          >
                            Checkout
                          </button>
                        </a>
                        <h5 class="fw-bold my-4 d-flex justify-content-center">
                          <a href="index.html" class="back-to-shopping">
                            <!-- <i class=" fas fa-angle-left me-2">
                          </i> -->
                            Back to shopping
                          </a>
                        </h5>
                      </form>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>

    <!--
    - FOOTER
  -->

    <footer>
      <!-- services fotter -->
      <div class="footer-nav">
        <div class="container">
          <ul class="footer-nav-list">
            <li class="footer-nav-item">
              <h2 class="nav-title">Our Company</h2>
            </li>

            <li class="footer-nav-item">
              <a href="#" class="footer-nav-link">Delivery</a>
            </li>

            <li class="footer-nav-item">
              <a href="#" class="footer-nav-link">Legal Notice</a>
            </li>

            <li class="footer-nav-item">
              <a href="#" class="footer-nav-link">Terms and conditions</a>
            </li>

            <li class="footer-nav-item">
              <a href="#" class="footer-nav-link">About us</a>
            </li>

            <li class="footer-nav-item">
              <a href="#" class="footer-nav-link">Secure payment</a>
            </li>
          </ul>

          <ul class="footer-nav-list">
            <li class="footer-nav-item">
              <h2 class="nav-title">Services</h2>
            </li>

            <li class="footer-nav-item">
              <a href="#" class="footer-nav-link">Prices drop</a>
            </li>

            <li class="footer-nav-item">
              <a href="#" class="footer-nav-link">New products</a>
            </li>

            <li class="footer-nav-item">
              <a href="#" class="footer-nav-link">Best sales</a>
            </li>

            <li class="footer-nav-item">
              <a href="#" class="footer-nav-link">Contact us</a>
            </li>
          </ul>

          <ul class="footer-nav-list">
            <li class="footer-nav-item">
              <h2 class="nav-title">Contact</h2>
            </li>

            <li class="footer-nav-item flex">
              <div class="icon-box">
                <ion-icon name="location-outline"></ion-icon>
              </div>

              <address class="content">
                419 State 414 Rte Beaver Dams, New York(NY), 14812, USA
              </address>
            </li>

            <li class="footer-nav-item flex">
              <div class="icon-box">
                <ion-icon name="call-outline"></ion-icon>
              </div>

              <a href="tel:+607936-8058" class="footer-nav-link"
                >(607) 936-8058</a
              >
            </li>

            <li class="footer-nav-item flex">
              <div class="icon-box">
                <ion-icon name="mail-outline"></ion-icon>
              </div>

              <a href="mailto:example@gmail.com" class="footer-nav-link"
                >example@gmail.com</a
              >
            </li>
          </ul>

          <ul class="footer-nav-list">
            <li class="footer-nav-item">
              <h2 class="nav-title">Follow Us</h2>
            </li>

            <li>
              <ul class="social-link">
                <li class="footer-nav-item">
                  <a href="#" class="footer-nav-link">
                    <ion-icon name="logo-facebook"></ion-icon>
                  </a>
                </li>

                <li class="footer-nav-item">
                  <a href="#" class="footer-nav-link">
                    <ion-icon name="logo-twitter"></ion-icon>
                  </a>
                </li>

                <li class="footer-nav-item">
                  <a href="#" class="footer-nav-link">
                    <ion-icon name="logo-linkedin"></ion-icon>
                  </a>
                </li>

                <li class="footer-nav-item">
                  <a href="#" class="footer-nav-link">
                    <ion-icon name="logo-instagram"></ion-icon>
                  </a>
                </li>
              </ul>
            </li>
          </ul>
        </div>
      </div>

      <!-- credit cards -->
      <div class="footer-bottom">
        <div class="container">
          <img
            src="./assets/images/payment.png"
            alt="payment method"
            class="payment-img"
          />

          <p class="copyright">
            Copyright &copy; <a href="#">Anon</a> all rights reserved.
          </p>
        </div>
      </div>
    </footer>
  </body>
  <script src="./assets/js/script.js"></script>
  <script src="../node_modules/axios/dist/axios.min.js"></script>
  <script
    type="module"
    src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"
  ></script>
  <script
    nomodule
    src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"
  ></script>
  <script type="text/javascript">
    var totalPrice = 0;
    async function getData() {
      const id = localStorage.getItem("id");
      axios
        .get(`http://localhost:3000/cart/byid?id=${id}`)
        .then((resposnse) => {
          const productList = resposnse.data.productList;
          let tab = "";
          // let totalPrice = 0;
          let count = 0;
          totalPrice = 0;
          productList.forEach(function (item) {
            totalPrice += item.price;
            tab += ` <div class="d-flex align-items-center mb-5">
                        <div class="flex-shrink-0">
                          <img
                            src="./assets/computer-type/gaming/comp1.webp"
                            class="img-fluid"
                            style="width: 150px"
                            alt="Generic placeholder image"
                          />
                        </div>
                        <div class="flex-grow-1 ms-3">
                          <a href="#!" class="float-end text-black"
                            ><i class="fas fa-times"></i
                          ></a>
                          <h5 class="text-primary">${item.productName}</h5>
                          <a type="button" class="remove p-0" onclick="removeProduct('${count}')">Remove</a>
                          <div class="d-flex align-items-center">
                            <p class="fw-bold mb-0 me-5 pe-3">${item.price.toLocaleString(
                              "en-US"
                            )}</p>
                            
                          </div>
                        </div>
                      </div>`;
            count += 1;
          });
          document.getElementById("product").innerHTML = tab;
          document.getElementById(
            "totalPrice"
          ).innerHTML = `${totalPrice.toLocaleString("en-US")} ฿`;
          document.getElementById("count").innerHTML =
            resposnse.data.productList.length;
        });
    }

    async function removeProduct(index) {
      const id = localStorage.getItem("id");
      try {
        const response = await axios.patch(
          `http://localhost:3000/cart/removeItemInCart?id=${id}&index=${index}`
        );
        console.log(response.data);
        getData();
      } catch (error) {
        console.error(error);
      }
    }

    async function checkOut() {
      const id = localStorage.getItem("id");
      let fullname = "";
      let address = "";
      await axios
        .get(`http://localhost:3000/admin/user/byId?id=${id}`)
        .then((resposnse) => {
          fullname = resposnse.data.fullname;
          address = resposnse.data.address;
        });

      await axios.post(`http://localhost:3000/order`, {
        userId: id,
        name: fullname,
        orderstatus: "Order Placed",
        price: totalPrice,
        address: address,
      });

      await axios
        .delete(`http://localhost:3000/cart/removecart?id=${id}`)
        .then((response) => {
          location.href = "./payment-checked.html";
        });
    }
  </script>
</html>
